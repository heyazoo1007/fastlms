<!DOCTYPE html>
<html lang="en"xmlns:th=http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>관리자 화면</title>
    <style>
      .detail table {
        width: 100%;
        border-collapse: collapse;
      }
      .detail table th, .detail table td {
        border:solid 1px #000;
      }
      .button {
          margin-top:20px;
          text-align: center;
      }
      .button a, .button button {
          border-width: 0;
          background-color: transparent;
          text-decoration: underline;
          font-size: 12px;
          line-height: 20px;
          height: 20px;
          color: black;
      }
    </style>
  <script src="https://code.jquery.com/jquery-3.6.2.min.js" integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA=" crossorigin="anonymous"></script>
  <script>
    $(document).ready(function () {

        $('submitForm').on('submit', function () {
            oEditors.getById["contents"].exec("UPDATE_CONTENTS_FIELD", []);
        });
    });
  </script>
</head>
<body>
  <h1>강좌 관리 - 강좌 등록</h1>

  <div class="detail">
      <form method="post" enctype="multipart/form-data">
          <table>
              <tbody>
              <tr>
                  <th>강좌 카테고리</th>
                  <td>
                      <select name="categoryId" required>
                          <option value="">카테고리 선택</option>
                          <option
                                  th:selected="${courseDto.categoryId} == x.id"
                                  th:each="x : ${category}" th:value="${x.id}" th:text="${x.categoryName}">기획</option>
                  </select>
                  </td>
              </tr>
              <tr>
                  <th>강좌명</th>
                  <td>
                      <input th:value="${courseDto.subject}" type="text" name="subject" required placeholder="강좌명 입력"/>
                  </td>
              </tr>
              <tr>
                  <th>키워드</th>
                  <td>
                      <input th:value="${courseDto.keyword}" type="text" name="keyword" required placeholder="키워드 입력"/>
                  </td>
              </tr>
              <tr>
                  <th>제목</th>
                  <td>
                      <input th:value="${courseDto.subject}" type="text" name="subject" required placeholder="제목 입력"/>
                  </td>
              </tr>
              <tr>
                  <th>요약</th>
                  <td>
                      <input th:text="${courseDto.summary}" type="text" name="summary" required placeholder="요약 입력"/>
                  </td>
              </tr>
              <tr>
                  <th>내용</th>
                  <td>
                      <input th:text="${courseDto.contents}" type="text" name="contents" required placeholder="내용 입력"/>
                  </td>
              </tr>
              <tr>
                  <th>정가</th>
                  <td>
                      <input th:value="${courseDto.price}" type="text" name="price" required placeholder="정가 입력"/>
                  </td>
              </tr>
              <tr>
                  <th>할인가</th>
                  <td>
                      <input th:value="${courseDto.salePrice}" type="text" name="salePrice" required placeholder="할인가 입력"/>
                  </td>
              </tr>
              <tr>
                  <th>할인 종료일</th>
                  <td>
                      <input th:value="${courseDto.saleEndDate}" type="text" name="saleEndTimeText" required placeholder="할인 종료일 입력"/>
                  </td>
              </tr>
              <tr>
                  <th>첨부파일</th>
                  <td>
                      <input type="file" name="file"/>
                  </td>
              </tr>
              </tbody>
          </table>

          <div class="button">
              <button th:if="${editMode}" type="submit">강좌 수정 하기</button>
              <button th:if="${!editMode}" type="submit">강좌 등록 하기</button>
              <a href="/admin/course/list.do">목록 이동</a>
          </div>
      </form>
  </div>

</body>
</html>